@charset "utf-8";

@import "fonts";
@import "materialdesignicons";

$black         : hsl(  0,  0%, 13%); // #212121
$black-bis     : hsl(218, 11%, 14%); // #202328
$black-ter     : hsl(213, 12%, 18%); // #282d33
$grey-darker   : hsl(213,  9%, 24%); // #383d43
$grey-dark     : hsl(206, 10%, 30%); // #454e54
$grey          : hsl(204, 11%, 36%); // #525e66
$grey-light    : hsl(205,  9%, 50%); // #74818b
$grey-lighter  : hsl(204,  8%, 68%); // #a7afb4
$grey-lightest : hsl(202,  7%, 78%); // #c3c8cb
$white-ter     : hsl(200,  6%, 90%); // #e4e6e7
$white-bis     : hsl(180,  4%, 94%); // #eff0f0
$white         : hsl(160,  2%, 96%); // #f5f5f5
$magenta       : hsl(270, 55%, 60%); // #9961d1
$red           : hsl(350, 50%, 50%); // #bf4055
$yellow        : hsl( 37, 74%, 52%); // #df9929
$green         : hsl(160, 64%, 44%); // #28b888
$cyan          : hsl(200, 66%, 60%); // #56afdc
$blue          : hsl(222, 60%, 55%); // #4771d1


$blue-p99: adjust-color($blue, $lightness: 20%);
$blue-p80: adjust-color($blue, $lightness: 10%);
$blue-p50: $blue;

$primary: $cyan;

$info: $blue;

$success: $green;
$warning: $yellow;
$danger: $red;

$link: $blue;
$link-hover: $blue;
$link-visited: $magenta;

$light: $white-ter;
$dark: $grey-darker;

$text: $grey-dark;
$background: $white-ter;

$shadow: 0px 1px 0px 0px $grey-lighter;

// Fonts
$family-sans-serif: "IBM Plex Sans", sans-serif;
$family-monospace: monospace;
$family-primary: $family-sans-serif;
$family-secondary: "Barlow Semi Condensed", sans-serif;

$weight-light: 300;
$weight-normal: 400;
$weight-medium: 500;
$weight-semibold: 600;
$weight-bold: 700;

$strong-weight: $weight-medium;

// Sizes
$size-1: 3rem;
$size-2: 2.5rem;
$size-3: 2rem;
$size-4: 1.5rem;
$size-5: 1.25rem;
$size-6: 1rem;
$size-7: 0.75rem;

$radius-small: 2px;
$radius: 3px;
$radius-large: 5px;

// Body
$body-background-color: $background;

// Footer
$footer-background-color: $background;
$footer-color: $grey-light;
$footer-padding: 3rem 1.5rem 4rem;

// Text
$title-size: $size-5;
$subtitle-size: $size-6;

$title-weight: $weight-medium;
$subtitle-weight: $weight-medium;

$subtitle-negative-margin: 0;

// Buttons
$button-color: $dark;
$button-background-color: $white-bis;

$button-padding-vertical: 0;
$button-padding-horizontal: 0.8em;

$button-colors: ("primary": ($primary, $white-bis),
                 "link": ($link, $white-bis),
                 "info": ($info, $white-bis),
                 "success": ($success, $white-bis),
                 "warning": ($warning, $white-bis),
                 "danger": ($danger, $white-bis));

$button-border-width: 1px;
$button-border-color: $grey-light;

// Menu
$menu-label-font-size: $size-6;
$menu-label-letter-spacing: 0;

$menu-item-color: $grey-lightest;
$menu-item-hover-color: $grey-lightest;
$menu-item-hover-background-color: $grey-darker;
$menu-item-active-color: $white-ter;
$menu-item-active-background-color: $primary;

// Navbar
$navbar-background-color: $black-ter;

$navbar-item-color: $grey-lightest;
$navbar-item-hover-color: $grey-lightest;
$navbar-item-hover-background-color: $grey-dark;
$navbar-item-active-color: $grey-lightest;
$navbar-item-active-background-color: $primary;

$navbar-dropdown-background-color: $black-ter;
$navbar-dropdown-border-top: 0;
$navbar-dropdown-radius: $radius;
$navbar-dropdown-item-hover-color: $grey-lightest;
$navbar-dropdown-item-hover-background-color: $grey-dark;
$navbar-dropdown-item-active-color: $grey-lightest;
$navbar-dropdown-item-active-background-color: $primary;

// Tables
$table-background-color: $background;
$table-row-hover-background-color: $white;

// Boxes
$box-background-color: $white-bis;
$box-radius: $radius;

// Modals
$modal-background-background-color: rgba($black-ter, 0.6);

$modal-card-head-radius: $radius;
$modal-card-head-padding: $size-6;
$modal-card-head-background-color: $black-ter;

$modal-card-title-size: $title-size;
$modal-card-title-color: $white-bis;

$modal-card-body-background-color: $background;

$modal-card-foot-radius: $radius-small;
$modal-card-foot-border-top: 0;

// Forms
$label-weight: $weight-medium;
$input-background-color: $white-bis;

$input-border-color: $grey-light;
$input-hover-border-color: $grey;
$input-focus-border-color: $grey;

// Dropdowns
$dropdown-content-background-color: $white-ter;
$dropdown-item-hover-background-color: $white;

// Horizontal bars
$hr-background-color: $grey-lighter;
$hr-height: 1px;

// Progress bars
$progress-border-radius: $radius-small;

@import "bulma-0.9.3/bulma.sass";

$ev-menu-width: 20em;

// Layout
#ev-content {
  padding-bottom: $size-3;
}

#ev-content-wrapper {
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  min-height: 100vh;

  .footer {
    .ev-links a:not(:first-child) {
      margin-left: $size-small;
    }
  }
}

// Text
p {
  @include block;

  text-align: justify;
}

.title, .subtitle, .breadcrumb, .tabs {
  font-family: $family-secondary;
}

.title, .subtitle {
  &:last-child {
    margin-bottom: 0;
  }

  &:not(:last-child) {
    margin-bottom: 0.5em;
  }
}

.ev-placeholder {
  color: $grey;
  font-style: italic;
}

// Preformatted text and code
code {
  // Inline code
  background-color: $background;
  color: $text;

  font-size: 1em;

  padding: 0;
}

pre {
  max-width: 100vw;

  border: 1px solid $grey-lightest;
  border-radius: $radius-small;

  padding: 0.5em 1.0em;

  background-color: $black-ter;
  color: $grey-lightest;

  font-family: $family-monospace;

  &.ev-fixed-height {
    height: 16em;
  }

  &.ev-limited-height {
    max-height: 16em;
    overflow: auto;
  }

  & > code {
    background-color: $black-ter;
    color: $grey-lightest;
  }

  &.ev-inline-pre {
    border: 0;
    padding: 0;
    color: $text;
    background-color: inherit;
    font-size: 1rem;
  }
}

// Buttons
.button {
  min-width: 6em;

  box-shadow: $shadow;

  &:hover, &.is-hovered {
    background-color: bulmaLighten($button-background-color, 10%);
  }

  @each $name, $pair in $button-colors {
    $color: nth($pair, 1);
    $color-invert: nth($pair, 2);

    &.is-#{$name} {
      &:hover, &.is-hovered {
        background-color: bulmaLighten($color, 5%);
      }
    }
  }
}

// Links
a {
  &:hover {
    text-decoration: underline;
  }
}

a.button, .menu a, .tabs a {
  &:hover {
    text-decoration: none;
  }
}

a.button:hover {
  color: $button-color;
}

a code {
  color: $link;
}

// Lists
ul {
  list-style: inside;
  list-style-type: "– ";
}

aside, nav {
  ul {
    list-style: none;
  }
}

// Forms
form {
  input[readonly] {
    color: $grey-lighter;
    cursor: not-allowed;
  }

  &:not(.ev-all-optional) {
    .field:not(.ev-required):not(.ev-no-optional-label) .label {
      &:after {
        content: " (optional)";
      }
    }
  }

  p.help {
    margin-bottom: 0;
  }

  p.help.is-danger {
    font-weight: $weight-medium;
  }
}

.label {
  font-size: $size-6;
}

label.checkbox input {
  margin-right: 0.4em;
}

.field-label {
  text-align: left;
}

.input {
  border-width: 1px;
}

// Dropdowns
.dropdown {
  .dropdown-trigger .tag {
    cursor: pointer;

    &:hover {
      background-color: adjust-color($grey-lightest, $lightness: 5%);
    }
  }

  .dropdown-menu {
    border: 1px solid $grey-lighter;
    border-radius: $radius-small;
    box-shadow: $shadow;

    padding: 0;

    a.dropdown-item, button.dropdown-item {
      // Bulma uses "inherit" for text-align. This is incorrect because the
      // dropdown menu could for example be in a table cell whose content is
      // right aligned. We always want dropdown items to be left aligned.
      text-align: left;
    }

    .dropdown-item.ev-disabled {
      color: $grey-lighter;

      &:hover {
        background-color: $dropdown-content-background-color;
        cursor: default;
      }
    }

    a {
      text-decoration: none;
    }
  }
}

// Selects and multi-selects
.ev-multi-select-view {
  @include input;

  cursor: pointer;

  max-width: 100%;
  height: auto;

  &.tags { // make the rule specific to override Bulma rules (CSS sucks)
    margin-bottom: 0;

    &.ev-expanded {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  & > .tags {
    margin-bottom: 0;
    margin-top: 0;

    .tag {
      margin-top: 0.25em;
      margin-bottom: 0.25em;
    }

    margin-left: 0.25em;
    margin-right: 0.25em;
  }
}

select[multiple] {
  width: 100%;

  border-top: 0;

  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

// Highlight.js
.hljs {
  .hljs-meta {
    // E.g. '---' for document start marks in YAML.
    color: $blue;
  }

  .hljs-bullet {
    // E.g. '-' in YAML sequence elements.
  }

  .hljs-keyword {
    // This includes booleans in YAML and JSON.
    color: $red;
  }

  .hljs-attr {
    // E.g. object keys in JSON.
    color: $yellow;
  }

  .hljs-string {
  }

  .hljs-number {
  }

  .hljs-built_in {
    color: $yellow;
  }

  &.language-javascript {
    .hljs-string {
      color: $red;
    }
  }
}
